<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security6">

<th:block th:fragment="fragmentContent">

    <div class="container mt-5" th:style="${'font-family: Oswald, sans-serif; color: #12044F;margin-bottom: 100px;'}">
        <div class="row mb-3">
            <div class="col-12 d-flex justify-content-between align-items-center">
                <h3>View Pizza Details</h3>
                <a th:onclick="redirectAllPizzasUser()" class="btn btn-success">
                    &larr; Back
                </a>
            </div>
        </div>
        <table class="table">
            <tbody>
            <tr>
                <td class="text-center">
                    <img th:onerror="this.src='https://t4.ftcdn.net/jpg/00/31/38/91/360_F_31389192_BEjagnNVligizqQwN6HvvOqgIJNmhHmj.jpg'"
                         th:src="@{${pizza.imageUrl}}"
                         class="img-fluid rounded"
                         style="max-height: 200px; width: auto;"
                         alt="Pizza Image"/>
                </td>
            </tr>
            <tr>
                <th class="bg-secondary text-white">Name:</th>
                <td class="bg-light" th:text="${pizza.name}"></td>
            </tr>
            <tr>
                <th>Description:</th>
                <td th:text="${pizza.description}"></td>
            </tr>

            <tr>
                <td colspan="2">
                    <table class="table table-striped table-bordered mt-4">
                        <thead class="table-danger">
                        <tr>
                            <th class="text-center">Size</th>
                            <th class="text-center">Price</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="pizzaSize: ${pizzaSizes}">
                            <td class="text-center" th:text="${pizzaSize.name}"></td>
                            <td class="text-center">
                                <span>&euro;</span>
                                <span th:text="${#numbers.formatDecimal(pizzaSize.price, 0, 2)}"></span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </td>
            </tr>

            <tr>
                <th class="bg-success text-white">Actions:</th>
                <td class="bg-light">
                    <button th:onclick="redirectAddPizzaToCart([[${pizza.pizzaId}]])" class="btn btn-success">
                        Order Now
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</th:block>

